* ------------------------------------------------------------------------------------------------------------------- *
*                                                                                                          /)_        *
*                                                                                                         //\  `.     *
*                                                                                                  ____,.//, \   \    *
*                           This file was generated by MAiNGO v0.2.0                           _.-'         `.`.  \   *
*                                                                                            ,'               : `..\  *
*                                                                                           :         ___      :      *
* Copyright (c) 2019 Process Systems Engineering (AVT.SVT), RWTH Aachen University         :       .'     `.    :     *
*                                                                                         :         `.    /     ;     *
* MAiNGO and the accompanying materials are made available under the                     :           /   /     ;      *
* terms of the Eclipse Public License 2.0 which is available at                         :        __.'   /     :       *
* http://www.eclipse.org/legal/epl-2.0.                                                 ;      /       /     :        *
*                                                                                       ;      `------'     /         *
* SPDX-License-Identifier: EPL-2.0                                                      :                  :          *
* Authors: Dominik Bongartz, Jaromil Najman, Susanne Sass, Alexander Mitsos             \                 /           *
*                                                                                        `.             .`            *
* Please provide all feedback and bugs to the developers.                                  '-._     _.-'              *
* E-mail: MAiNGO@avt.rwth-aachen.de                                                            `'''`                  *
* ------------------------------------------------------------------------------------------------------------------- *

*Continuous variables
variables p2__MPa_, p4__MPa_, mdot__kg_s_, h7__kJ_kg_, k____, objectiveVar;

*Continuous variable bounds
p2__MPa_.LO = 0.02;
p2__MPa_.UP = 0.5;
p4__MPa_.LO = 0.3;
p4__MPa_.UP = 10;
mdot__kg_s_.LO = 5;
mdot__kg_s_.UP = 100;
h7__kJ_kg_.LO = 2480;
h7__kJ_kg_.UP = 3750;
k____.LO = 0.01;
k____.UP = 0.2;

*Equation variables
equations objective, 
ineq1 "hvap(p7)<=h7",
ineq2 "T7<=Tmax",
ineq3 "x8<=1",
ineq4 "xmin<=x9",
ineq5 "p2<=p4",
ineq6 "Pinch: Evaporator, cold end",
ineq7 "Pinch: Economizer, cold end",

eq1 "h3=hliq(p3)";

*Objective function
objective .. objectiveVar =E= mdot__kg_s_*((k____-1)*((h7__kJ_kg_+((log(0.5*((h7__kJ_kg_-2480)*0.4807692307692307+313.8336+0.001+abs((h7__kJ_kg_-2480)*0.4807692307692307+313.8336-0.001))*0.003186401965882557)*2.08+7.902276875388742-log(p4__MPa_*999.9947928454736)*0.462-0.2160933469622842)*0.1418408466591578-1)*69.60493127547008-((log(0.5*((h7__kJ_kg_-2480)*0.4807692307692307+313.8336+0.001+abs((h7__kJ_kg_-2480)*0.4807692307692307+313.8336-0.001))*0.003186401965882557)*2.08+7.902276875388742-log(p4__MPa_*999.9947928454736)*0.462-0.2160933469622842)*0.1418408466591578*2514.633956235361))*0.9-(p2__MPa_-0.005000000000000001)*1.25)-(k____*(h7__kJ_kg_+(p2__MPa_-0.001000005207181641-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043+313.8336)*4.18)*((log(0.5*((h7__kJ_kg_-2480)*0.4807692307692307+313.8336+0.001+abs((h7__kJ_kg_-2480)*0.4807692307692307+313.8336-0.001))*0.003186401965882557)*2.08+7.902276875388742-log(p4__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)/(log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*2.08+7.902276875388742-log(p2__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)-1)+(log(0.5*((h7__kJ_kg_-2480)*0.4807692307692307+313.8336+0.001+abs((h7__kJ_kg_-2480)*0.4807692307692307+313.8336-0.001))*0.003186401965882557)*2.08+7.902276875388742-log(p4__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)/(log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*2.08+7.902276875388742-log(p2__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)*((1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043+313.8336)*2.08-2480))*0.9)+(p4__MPa_-p2__MPa_)*1.25);

*Inequalities
ineq1 .. -((1/(log(p4__MPa_)*0.4342944819032518-2.55959)*643.748-198.043+313.8336)*2.08-2480+h7__kJ_kg_)*0.001 =L= 0;
ineq2 .. (0.5*((h7__kJ_kg_-2480)*0.4807692307692307+313.8336+0.001+abs((h7__kJ_kg_-2480)*0.4807692307692307+313.8336-0.001))-873.15)*0.01 =L= 0;
ineq3 .. -(((p2__MPa_-0.001000005207181641-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043+313.8336)*4.18)*((log(0.5*((h7__kJ_kg_-2480)*0.4807692307692307+313.8336+0.001+abs((h7__kJ_kg_-2480)*0.4807692307692307+313.8336-0.001))*0.003186401965882557)*2.08+7.902276875388742-log(p4__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)/(log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*2.08+7.902276875388742-log(p2__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)-1)+(log(0.5*((h7__kJ_kg_-2480)*0.4807692307692307+313.8336+0.001+abs((h7__kJ_kg_-2480)*0.4807692307692307+313.8336-0.001))*0.003186401965882557)*2.08+7.902276875388742-log(p4__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)/(log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*2.08+7.902276875388742-log(p2__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)*((1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043+313.8336)*2.08-2480))*0.9-(h7__kJ_kg_*0.09999999999999998)-((1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043+313.8336)*2.08-2480))*0.001 =L= 0;
ineq4 .. -(h7__kJ_kg_*0.09999999999999998-(((log(0.5*((h7__kJ_kg_-2480)*0.4807692307692307+313.8336+0.001+abs((h7__kJ_kg_-2480)*0.4807692307692307+313.8336-0.001))*0.003186401965882557)*2.08+7.902276875388742-log(p4__MPa_*999.9947928454736)*0.462-0.2160933469622842)*0.1418408466591578-1)*69.60493127547008-((log(0.5*((h7__kJ_kg_-2480)*0.4807692307692307+313.8336+0.001+abs((h7__kJ_kg_-2480)*0.4807692307692307+313.8336-0.001))*0.003186401965882557)*2.08+7.902276875388742-log(p4__MPa_*999.9947928454736)*0.462-0.2160933469622842)*0.1418408466591578*2514.633956235361))*0.9-2137.438862800057-10.44073969132051)*0.1 =L= 0;
ineq5 .. p2__MPa_-p4__MPa_ =L= 0;
ineq6 .. (mdot__kg_s_*(h7__kJ_kg_-(p4__MPa_-0.001000005207181641-(1/(log(p4__MPa_)*0.4342944819032518-2.55959)*643.748-198.043+10+313.8336)*4.18))*0.005-900-(1/(log(p4__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)+15)*0.1 =L= 0;
ineq7 .. (mdot__kg_s_*(h7__kJ_kg_-((p4__MPa_-p2__MPa_)*1.25-((k____-1)*((p2__MPa_-0.005000000000000001)*1.25+69.60493127547008)+k____*(((p2__MPa_-0.001000005207181641-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043+313.8336)*4.18)*((log(0.5*((h7__kJ_kg_-2480)*0.4807692307692307+313.8336+0.001+abs((h7__kJ_kg_-2480)*0.4807692307692307+313.8336-0.001))*0.003186401965882557)*2.08+7.902276875388742-log(p4__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)/(log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*2.08+7.902276875388742-log(p2__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)-1)+(log(0.5*((h7__kJ_kg_-2480)*0.4807692307692307+313.8336+0.001+abs((h7__kJ_kg_-2480)*0.4807692307692307+313.8336-0.001))*0.003186401965882557)*2.08+7.902276875388742-log(p4__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)/(log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*2.08+7.902276875388742-log(p2__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)*((1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043+313.8336)*2.08-2480))*0.9-(h7__kJ_kg_*0.09999999999999998)))))*0.005-900+0.5*(((p4__MPa_-p2__MPa_)*1.25-((k____-1)*((p2__MPa_-0.005000000000000001)*1.25+69.60493127547008)+k____*(((p2__MPa_-0.001000005207181641-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043+313.8336)*4.18)*((log(0.5*((h7__kJ_kg_-2480)*0.4807692307692307+313.8336+0.001+abs((h7__kJ_kg_-2480)*0.4807692307692307+313.8336-0.001))*0.003186401965882557)*2.08+7.902276875388742-log(p4__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)/(log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*2.08+7.902276875388742-log(p2__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)-1)+(log(0.5*((h7__kJ_kg_-2480)*0.4807692307692307+313.8336+0.001+abs((h7__kJ_kg_-2480)*0.4807692307692307+313.8336-0.001))*0.003186401965882557)*2.08+7.902276875388742-log(p4__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)/(log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*2.08+7.902276875388742-log(p2__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)*((1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043+313.8336)*2.08-2480))*0.9-(h7__kJ_kg_*0.09999999999999998)))-(p4__MPa_-0.001000005207181641))*0.2392344497607656+313.8336+0.001+abs(((p4__MPa_-p2__MPa_)*1.25-((k____-1)*((p2__MPa_-0.005000000000000001)*1.25+69.60493127547008)+k____*(((p2__MPa_-0.001000005207181641-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043+313.8336)*4.18)*((log(0.5*((h7__kJ_kg_-2480)*0.4807692307692307+313.8336+0.001+abs((h7__kJ_kg_-2480)*0.4807692307692307+313.8336-0.001))*0.003186401965882557)*2.08+7.902276875388742-log(p4__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)/(log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*2.08+7.902276875388742-log(p2__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)-1)+(log(0.5*((h7__kJ_kg_-2480)*0.4807692307692307+313.8336+0.001+abs((h7__kJ_kg_-2480)*0.4807692307692307+313.8336-0.001))*0.003186401965882557)*2.08+7.902276875388742-log(p4__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)/(log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*2.08+7.902276875388742-log(p2__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)*((1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043+313.8336)*2.08-2480))*0.9-(h7__kJ_kg_*0.09999999999999998)))-(p4__MPa_-0.001000005207181641))*0.2392344497607656+313.8336-0.001))+15)*0.1 =L= 0;

*Equalities
eq1 .. -((k____-1)*((p2__MPa_-0.005000000000000001)*1.25+69.60493127547008)+k____*(((p2__MPa_-0.001000005207181641-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043+313.8336)*4.18)*((log(0.5*((h7__kJ_kg_-2480)*0.4807692307692307+313.8336+0.001+abs((h7__kJ_kg_-2480)*0.4807692307692307+313.8336-0.001))*0.003186401965882557)*2.08+7.902276875388742-log(p4__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)/(log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*2.08+7.902276875388742-log(p2__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)-1)+(log(0.5*((h7__kJ_kg_-2480)*0.4807692307692307+313.8336+0.001+abs((h7__kJ_kg_-2480)*0.4807692307692307+313.8336-0.001))*0.003186401965882557)*2.08+7.902276875388742-log(p4__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)/(log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*2.08+7.902276875388742-log(p2__MPa_*999.9947928454736)*0.462-log(-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043)*0.003186401965882557)*4.18)*((1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043+313.8336)*2.08-2480))*0.9-(h7__kJ_kg_*0.09999999999999998))+p2__MPa_-0.001000005207181641-(1/(log(p2__MPa_)*0.4342944819032518-2.55959)*643.748-198.043+313.8336)*4.18)*0.01 =E= 0;

*Model information and options
model m / all /;

*Optional option file
*m.optfile = 1;

*Optimality tolerances, time and solver
*option OPTCR = 0.001;
*option RESLIM = 21600;
*option DNLP = BARON;

*Solve statement
solve m using DNLP minimizing objectiveVar;
